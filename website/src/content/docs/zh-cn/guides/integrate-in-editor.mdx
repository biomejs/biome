---
title: 在您的编辑器中集成 Biome
description: 学习如何将 Biome 与编辑器和 IDE 集成
---

## 第一方插件

这些插件由 Biome 团队维护，并且是 [Biome 组织](https://github.com/biomejs)的一部分。

### VS Code

Biome 编辑器集成允许您：

* 在保存文件或发出格式化命令时格式化文件。
* 对文件进行 lint 并应用代码修复

从 Visual Studio Marketplace 安装我们的官方 [Biome VS Code 扩展](https://marketplace.visualstudio.com/items?itemName=biomejs.biome)。

要使 Biome 成为默认的格式化程序，打开一个 [支持的文件](/internals/language-support/) 并：

* 打开 *命令面板* (查看或 <kbd>Ctrl</kbd>/<kbd title="Cmd">⌘</kbd>+<kbd title="Shift">⇧</kbd>+<kbd>P</kbd>)
* 选择 *使用...格式化文档*
* 选择 *配置默认格式化程序*
* 选择 *Biome*。

### IntelliJ

要安装 Biome IntelliJ 插件，请转到 [官方插件页面](https://plugins.jetbrains.com/plugin/22761-biome) 或按照以下步骤操作：

**从 JetBrains IDEs：**

1. 打开 IntelliJ IDEA。
2. 转到 **设置/首选项**。
3. 从左侧菜单中选择 **插件**。
4. 点击 **市场** 标签。
5. 搜索 "Biome" 并点击 **安装**。
6. 重启 IDE 以激活插件。

**从磁盘：**

1. 从发布标签下载插件 .zip。
2. 按 `⌘Сmd,` 打开 IDE 设置，然后选择插件。
3. 在插件页面上，点击设置按钮，然后点击从磁盘安装插件…。

## 第三方插件

这些是由其他社区维护的插件，您可以在编辑器中安装：
- [`neovim`](https://neovim.io/): 您需要安装 [`nvim-lspconfig`](https://github.com/neovim/nvim-lspconfig/)，并按照 [说明](https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md#biome) 操作；
- [`helix`](https://helix-editor.com/): 按照 [此手册](https://github.com/biomejs/biome/blob/main/editors/helix/manual.md) 的指示操作
- [`coc-biome`](https://github.com/fannheyward/coc-biome): [`coc.nvim`](https://github.com/neoclide/coc.nvim) 的 Biome 扩展
- [`sublime text`](http://www.sublimetext.com/): 按照 [`LSP-biome`](https://github.com/sublimelsp/LSP-biome) 的安装说明操作

:::note
这里有没有列出的编辑器的插件？ 请提交 PR，我们将很高兴将其添加到列表中
:::

## 编写您自己的插件

Biome 对 [LSP](https://microsoft.github.io/language-server-protocol/) 有一流的支持。 如果您的编辑器实现了 LSP，那么 Biome 的集成应该是无缝的。

### 使用 LSP 代理

Biome 有一个名为 `lsp-proxy` 的命令。 执行时，Biome 将生成两个进程：
- 执行请求操作的 [守护进程](/internals/architecture#daemon)；
- 作为客户端 - 编辑器 - 的请求和服务器 - 守护进程 - 之间的代理的服务器；

如果您的编辑器能够与服务器交互并发送 [JSON-RPC](https://www.jsonrpc.org/) 请求，您只需要配置编辑器运行该命令。

您可以查看 [`neo-vim biome 插件`](https://github.com/neovim/nvim-lspconfig/blob/master/lua/lspconfig/server_configurations/biome.lua) 是如何做到的。

### 使用 `stdin`

如果您的编辑器不支持 LSP，您可以直接使用二进制文件 `biome` 并通过 [标准输入](https://en.wikipedia.org/wiki/Standard_streams#Standard_input_(stdin)) 调用它。

以下命令可以通过标准输入调用：
- [`format`](/reference/cli/#biome-format)
- [`lint`](/reference/cli/#biome-lint)
- [`check`](/reference/cli/#biome-check)

Biome 将新的输出（或者如果没有发生更改，则为原始输出）返回到 [标准输出](https://en.wikipedia.org/wiki/Standard_streams#Standard_output_(stdout))，并将诊断信息返回到 [标准错误](https://en.wikipedia.org/wiki/Standard_streams#Standard_error_(stderr))。

当您使用 `stdin` 时，您必须传递 `--stdin-file-path` 选项。 文件 `path` **不需要存在** 在您的文件系统中，它可以是任何名称。 **重要的是** 提供正确的文件扩展名，以便 Biome 知道 **如何处理** 您的文件。

定位二进制文件的路径然后在需要时调用它是编辑器的责任。 我们根据我们支持的架构和操作系统将二进制文件发布到 npm：

- `@biomejs/cli-darwin-arm64`
- `@biomejs/cli-darwin-x64`
- `@biomejs/cli-linux-arm64`
- `@biomejs/cli-linux-x64`
- `@biomejs/cli-win32-arm64`
- `@biomejs/cli-win32-x64`

二进制文件的名称是 `biome` 或 `biome.exe`，可以在库的根目录中找到，例如：`@biomejs/cli-darwin-arm64/biome`，`@biomejs/cli-win32-x64/biome.exe`。

### 使用守护进程与二进制文件

通过 CLI 使用二进制文件非常高效，尽管您将无法向用户提供 [日志](#daemon-logs)。 CLI 允许您引导一个守护进程，然后通过守护进程本身使用 CLI 命令。

为了做到这一点，您首先需要使用 [`start`](/reference/cli#biome-start) 命令启动一个守护进程进程：

```shell
biome start
```
然后，每个命令都需要添加 `--use-server` 选项，例如：

```shell
echo "console.log('')" | biome format --use-server --stdin-file-path=dummy.js
```

:::note
如果您决定使用守护进程，您也有责任使用 [`stop`](/reference/cli#biome-stop) 命令重启/杀死进程，以避免出现幽灵进程。
:::

:::caution
通过守护进程的操作明显比 CLI 本身慢，因此建议仅在单个文件上运行操作。
:::

### 守护进程日志

Biome 守护进程在您的文件系统中保存日志。 日志存储在一个名为 `biome-logs` 的文件夹中。 您可以在操作系统的临时目录中找到此文件夹。

从 Windows，使用 powershell：
```shell
$env:TEMP
```

从 Linux/macOS，使用终端：

```shell
echo $TMPDIR
```

日志文件每小时旋转一次。


