---
title: VSCode 扩展
description: 关于 Biome 的 VSCode 扩展的说明
---
# Biome VS Code 扩展

[Biome](https://biomejs.dev/) 通过整合多个工具的功能，统一了你的开发栈。它使用单一的配置文件，具有出色的性能，并且可以与任何栈一起工作。这个扩展将 Biome 带到你的编辑器中，使你可以：

- 在*保存*文件或发出*格式化文档*命令时格式化文件
- 在你输入时看到 lint 并应用代码修复
- 执行重构

## 安装

你可以通过前往扩展的 [Visual Studio Code 市场页面](https://marketplace.visualstudio.com/items?itemName=biomejs.biome) 或者在 VS Code 内部来安装代码扩展，方法如下：

- 打开*扩展*标签页（视图 → 扩展）并搜索 Biome。
- 打开 _快速打开浮层_ (<kbd>Ctrl</kbd>/<kbd title="Cmd">⌘</kbd>+<kbd>P</kbd> 或 _转到 -> 转到文件_), 输入 `ext install biomejs.biome`，然后按回车。

## 入门

### 默认格式化器

为支持的文件配置 Biome 作为默认格式化器，以确保 VS Code 使用 Biome 而不是你可能已经安装的其他格式化器。你可以通过打开一个 JavaScript 或 TypeScript 文件，然后：

- 打开命令面板 (<kbd>Ctrl</kbd>/<kbd title="Cmd">⌘</kbd>+<kbd title="Shift">⇧</kbd>+<kbd>P</kbd> 或 视图 → 命令面板)
- 选择 _使用...格式化文档_
- 选择 _配置默认格式化程序..._
- 选择 Biome

你也可以只为特定语言启用 Biome：

- [打开 `settings.json`](https://code.visualstudio.com/docs/getstarted/settings#_settingsjson): 打开 _命令面板_(<kbd>Ctrl</kbd>/<kbd title="Cmd">⌘</kbd>+<kbd title="Shift">⇧</kbd>+<kbd>P</kbd>) 并选择 _首选项: 打开用户设置 (JSON)_
- 并为所需的语言将 `editor.defaultFormatter` 设置为 `biomejs.biome`

```json title="settings.json"
{
	"editor.defaultFormatter": "<其他格式化程序>",
	"[javascript]": {
		"editor.defaultFormatter": "biomejs.biome"
	}
}
```

此配置将 Biome 设置为 JavaScript 文件的默认格式化程序。所有其他文件将使用 `<其他格式化程序>` 进行格式化

## 配置解析

扩展程序会自动从工作区的根目录加载 `biome.json` 文件。

## Biome 解析

扩展程序试图使用你项目的本地依赖（`node_modules/@biomejs/biome`）中的 Biome。我们建议将 Biome 添加为项目依赖，以确保 NPM 脚本和扩展程序使用相同的 Biome 版本。

你也可以通过在编辑器选项中配置 `biome.lspBin` 设置来明确指定扩展程序应使用的 `Biome` 二进制文件。

如果项目没有依赖 Biome，也没有配置明确的路径，那么扩展程序将使用其包中包含的 Biome 版本。

## 使用

### 格式化文档

要格式化整个文档，打开 _命令面板_ (<kbd>Ctrl</kbd>/<kbd title="Cmd">⌘</kbd>+<kbd title="Shift">⇧</kbd>+<kbd>P</kbd>) 并选择 _格式化文档_。

要格式化文本范围，选择你想要格式化的文本，打开 _命令面板_ (<kbd>Ctrl</kbd>/<kbd title="Cmd">⌘</kbd>+<kbd title="Shift">⇧</kbd>+<kbd>P</kbd>)，并选择 _格式化选择_。

### 保存时格式化

Biome 尊重 VS Code 的 _保存时格式化_ 设置。要启用保存时格式化，打开设置（_文件_ -> _首选项_ -> _设置_），搜索 `editor.formatOnSave`，并启用该选项。

### 保存时修复

Biome 尊重 VS Code 的 _保存时代码操作_ 设置。要启用保存时修复，添加


```json title="settings.json"
{
  "editor.codeActionsOnSave": {
    "quickfix.biome": true
  }
}
```

在 vscode 的 `settings.json` 中。

### import排序 [实验性]

Biome VS Code 扩展通过 "整理导入" 代码操作支持导入排序。默认情况下，可以使用 <kbd title="Shift">⇧</kbd>+<kbd>Alt</kbd>+<kbd>O</kbd> 键盘快捷键运行此操作，或通过 _命令面板_ (<kbd>Ctrl</kbd>/<kbd title="Cmd">⌘</kbd>+<kbd title="Shift">⇧</kbd>+<kbd>P</kbd>) 选择 _整理导入_。

如果你希望该操作在保存时自动运行，而不是手动调用，可以将以下内容添加到你的编辑器配置中：

```json title="settings.json"
{
	"editor.codeActionsOnSave":{
		"source.organizeImports.biome": true
	}
}
```

## 扩展设置

### `biome.lspBin`

`biome.lspBin` 选项覆盖了扩展使用的 Biome 二进制文件。
如果路径是相对的，那么工作区文件夹将被用作基础路径。

### `biome.rename`

启用 Biome 在工作区处理重命名（实验性）。

### `biome.requireConfiguration`

对没有 `biome.json` 文件的项目禁用格式化、linting 和语法错误。
默认启用。

## 版本控制

我们遵循[官方文档](https://code.visualstudio.com/api/working-with-extensions/publishing-extension#prerelease-extensions)建议的规范：

奇数的次版本号用于预发布，例如 `*.5.*` 。
偶数的次版本号用于正式发布，例如 `*.6.*`。


## 故障排除

> 我安装了 `@biomejs/biome`，但扩展显示警告说无法解析库。

库 `@biomejs/biome` 指定了一些基于你的操作系统和架构安装的可选依赖。

然而，可能的是，当加载扩展时，扩展无法解析二进制文件。这可能是由你的包管理器引起的。

**要解决这个问题**，尝试手动安装二进制文件。警告应该会显示属于你的机器的二进制文件。

**如果你在一个使用不同操作系统/架构的团队中工作**，建议安装所有的二进制文件：

- `@biomejs/cli-darwin-arm64`
- `@biomejs/cli-darwin-x64`
- `@biomejs/cli-linux-arm64`
- `@biomejs/cli-linux-x64`
- `@biomejs/cli-win32-arm64`
- `@biomejs/cli-win32-x64`
