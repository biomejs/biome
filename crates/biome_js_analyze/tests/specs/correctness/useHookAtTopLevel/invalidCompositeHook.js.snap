---
source: crates/biome_js_analyze/tests/spec_tests.rs
expression: invalidCompositeHook.js
---
# Input
```js
function useFoo() {
    return useBar();
}

function Component() {
    if (condition) {
        // This call should be reported just once.
        // See https://github.com/biomejs/biome/issues/6393
        return useFoo();
    }
}

```

# Diagnostics
```
invalidCompositeHook.js:9:16 lint/correctness/useHookAtTopLevel ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × This hook is being called conditionally, but all hooks must be called in the exact same order in every component render.
  
     7 │         // This call should be reported just once.
     8 │         // See https://github.com/biomejs/biome/issues/6393
   > 9 │         return useFoo();
       │                ^^^^^^
    10 │     }
    11 │ }
  
  i For React to preserve state between calls, hooks needs to be called unconditionally and always in the same order.
  
  i See https://react.dev/reference/rules/rules-of-hooks
  

```
