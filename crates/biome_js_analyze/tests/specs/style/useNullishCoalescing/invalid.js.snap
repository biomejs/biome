---
source: crates/biome_js_analyze/tests/spec_tests.rs
expression: invalid.js
---
# Input
```js
// Basic || that should be ??
const value = x || 'default';

// Multiple || operators
const value2 = a || b || c;

// Assignment context
let result;
result = foo || 'fallback';

// Inside function
function test(param) {
  return param || 0;
}

// Arrow function
const fn = (x) => x || [];

// Object property
const obj = {
  prop: value || 'default'
};

// Array element
const arr = [x || y];

// Nested in expression
const computed = (x || 5) * 2;

```

# Diagnostics
```
invalid.js:2:17 lint/style/useNullishCoalescing  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Use ?? instead of ||.
  
    1 │ // Basic || that should be ??
  > 2 │ const value = x || 'default';
      │                 ^^
    3 │ 
    4 │ // Multiple || operators
  
  i The || operator checks for all falsy values (null, undefined, 0, '', false), while ?? only checks for null and undefined.
  
  i Safe fix: Use ?? instead.
  
     1  1 │   // Basic || that should be ??
     2    │ - const·value·=·x·||·'default';
        2 │ + const·value·=·x·??·'default';
     3  3 │   
     4  4 │   // Multiple || operators
  

```

```
invalid.js:5:18 lint/style/useNullishCoalescing  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Use ?? instead of ||.
  
    4 │ // Multiple || operators
  > 5 │ const value2 = a || b || c;
      │                  ^^
    6 │ 
    7 │ // Assignment context
  
  i The || operator checks for all falsy values (null, undefined, 0, '', false), while ?? only checks for null and undefined.
  
  i Safe fix: Use ?? instead.
  
     3  3 │   
     4  4 │   // Multiple || operators
     5    │ - const·value2·=·a·||·b·||·c;
        5 │ + const·value2·=·a·??·b·||·c;
     6  6 │   
     7  7 │   // Assignment context
  

```

```
invalid.js:5:23 lint/style/useNullishCoalescing  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Use ?? instead of ||.
  
    4 │ // Multiple || operators
  > 5 │ const value2 = a || b || c;
      │                       ^^
    6 │ 
    7 │ // Assignment context
  
  i The || operator checks for all falsy values (null, undefined, 0, '', false), while ?? only checks for null and undefined.
  
  i Safe fix: Use ?? instead.
  
     3  3 │   
     4  4 │   // Multiple || operators
     5    │ - const·value2·=·a·||·b·||·c;
        5 │ + const·value2·=·a·||·b·??·c;
     6  6 │   
     7  7 │   // Assignment context
  

```

```
invalid.js:9:14 lint/style/useNullishCoalescing  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Use ?? instead of ||.
  
     7 │ // Assignment context
     8 │ let result;
   > 9 │ result = foo || 'fallback';
       │              ^^
    10 │ 
    11 │ // Inside function
  
  i The || operator checks for all falsy values (null, undefined, 0, '', false), while ?? only checks for null and undefined.
  
  i Safe fix: Use ?? instead.
  
     7  7 │   // Assignment context
     8  8 │   let result;
     9    │ - result·=·foo·||·'fallback';
        9 │ + result·=·foo·??·'fallback';
    10 10 │   
    11 11 │   // Inside function
  

```

```
invalid.js:13:16 lint/style/useNullishCoalescing  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Use ?? instead of ||.
  
    11 │ // Inside function
    12 │ function test(param) {
  > 13 │   return param || 0;
       │                ^^
    14 │ }
    15 │ 
  
  i The || operator checks for all falsy values (null, undefined, 0, '', false), while ?? only checks for null and undefined.
  
  i Safe fix: Use ?? instead.
  
    11 11 │   // Inside function
    12 12 │   function test(param) {
    13    │ - ··return·param·||·0;
       13 │ + ··return·param·??·0;
    14 14 │   }
    15 15 │   
  

```

```
invalid.js:17:21 lint/style/useNullishCoalescing  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Use ?? instead of ||.
  
    16 │ // Arrow function
  > 17 │ const fn = (x) => x || [];
       │                     ^^
    18 │ 
    19 │ // Object property
  
  i The || operator checks for all falsy values (null, undefined, 0, '', false), while ?? only checks for null and undefined.
  
  i Safe fix: Use ?? instead.
  
    15 15 │   
    16 16 │   // Arrow function
    17    │ - const·fn·=·(x)·=>·x·||·[];
       17 │ + const·fn·=·(x)·=>·x·??·[];
    18 18 │   
    19 19 │   // Object property
  

```

```
invalid.js:21:15 lint/style/useNullishCoalescing  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Use ?? instead of ||.
  
    19 │ // Object property
    20 │ const obj = {
  > 21 │   prop: value || 'default'
       │               ^^
    22 │ };
    23 │ 
  
  i The || operator checks for all falsy values (null, undefined, 0, '', false), while ?? only checks for null and undefined.
  
  i Safe fix: Use ?? instead.
  
    19 19 │   // Object property
    20 20 │   const obj = {
    21    │ - ··prop:·value·||·'default'
       21 │ + ··prop:·value·??·'default'
    22 22 │   };
    23 23 │   
  

```

```
invalid.js:25:16 lint/style/useNullishCoalescing  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Use ?? instead of ||.
  
    24 │ // Array element
  > 25 │ const arr = [x || y];
       │                ^^
    26 │ 
    27 │ // Nested in expression
  
  i The || operator checks for all falsy values (null, undefined, 0, '', false), while ?? only checks for null and undefined.
  
  i Safe fix: Use ?? instead.
  
    23 23 │   
    24 24 │   // Array element
    25    │ - const·arr·=·[x·||·y];
       25 │ + const·arr·=·[x·??·y];
    26 26 │   
    27 27 │   // Nested in expression
  

```

```
invalid.js:28:21 lint/style/useNullishCoalescing  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Use ?? instead of ||.
  
    27 │ // Nested in expression
  > 28 │ const computed = (x || 5) * 2;
       │                     ^^
    29 │ 
  
  i The || operator checks for all falsy values (null, undefined, 0, '', false), while ?? only checks for null and undefined.
  
  i Safe fix: Use ?? instead.
  
    26 26 │   
    27 27 │   // Nested in expression
    28    │ - const·computed·=·(x·||·5)·*·2;
       28 │ + const·computed·=·(x·??·5)·*·2;
    29 29 │   
  

```
