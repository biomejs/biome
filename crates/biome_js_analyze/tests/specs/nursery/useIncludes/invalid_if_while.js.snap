---
source: crates/biome_js_analyze/tests/spec_tests.rs
expression: invalid_if_while.js
---
# Input
```js
// should generate diagnostics

// in if/while
if ("foo".indexOf("o") !== -1) {}
while (["a", "b", "c"].indexOf("a") === -1) {}
if (("foo".indexOf("o")) !== -1) {}

// With parentheses
("hello".indexOf("e")) !== -1;

// Basic regex patterns
/a/.test("abc");

// Unicode characters in regex
/Ã¡/.test("cafÃ©");
/ðŸ˜€/.test("hello ðŸ˜€");
/ä¸­/.test("ä¸­æ–‡");

// Whitespace in regex
/ /.test("hello world");

```

# Diagnostics
```
invalid_if_while.js:4:5 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use includes() instead of indexOf() to check for inclusion, as it is more readable and concise.
  
    3 â”‚ // in if/while
  > 4 â”‚ if ("foo".indexOf("o") !== -1) {}
      â”‚     ^^^^^^^^^^^^^^^^^^^^^^^^^
    5 â”‚ while (["a", "b", "c"].indexOf("a") === -1) {}
    6 â”‚ if (("foo".indexOf("o")) !== -1) {}
  
  i Safe fix: Replace with 'includes()'
  
     2  2 â”‚   
     3  3 â”‚   // in if/while
     4    â”‚ - ifÂ·("foo".indexOf("o")Â·!==Â·-1)Â·{}
        4 â”‚ + ifÂ·("foo".includes("o"))Â·{}
     5  5 â”‚   while (["a", "b", "c"].indexOf("a") === -1) {}
     6  6 â”‚   if (("foo".indexOf("o")) !== -1) {}
  

```

```
invalid_if_while.js:5:8 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use includes() instead of indexOf() to check for inclusion, as it is more readable and concise.
  
    3 â”‚ // in if/while
    4 â”‚ if ("foo".indexOf("o") !== -1) {}
  > 5 â”‚ while (["a", "b", "c"].indexOf("a") === -1) {}
      â”‚        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    6 â”‚ if (("foo".indexOf("o")) !== -1) {}
    7 â”‚ 
  
  i Safe fix: Replace with 'includes()'
  
     3  3 â”‚   // in if/while
     4  4 â”‚   if ("foo".indexOf("o") !== -1) {}
     5    â”‚ - whileÂ·(["a",Â·"b",Â·"c"].indexOf("a")Â·===Â·-1)Â·{}
        5 â”‚ + whileÂ·(!["a",Â·"b",Â·"c"].includes("a"))Â·{}
     6  6 â”‚   if (("foo".indexOf("o")) !== -1) {}
     7  7 â”‚   
  

```

```
invalid_if_while.js:6:5 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use includes() instead of indexOf() to check for inclusion, as it is more readable and concise.
  
    4 â”‚ if ("foo".indexOf("o") !== -1) {}
    5 â”‚ while (["a", "b", "c"].indexOf("a") === -1) {}
  > 6 â”‚ if (("foo".indexOf("o")) !== -1) {}
      â”‚     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    7 â”‚ 
    8 â”‚ // With parentheses
  
  i Safe fix: Replace with 'includes()'
  
     4  4 â”‚   if ("foo".indexOf("o") !== -1) {}
     5  5 â”‚   while (["a", "b", "c"].indexOf("a") === -1) {}
     6    â”‚ - ifÂ·(("foo".indexOf("o"))Â·!==Â·-1)Â·{}
        6 â”‚ + ifÂ·("foo".includes("o"))Â·{}
     7  7 â”‚   
     8  8 â”‚   // With parentheses
  

```

```
invalid_if_while.js:9:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use includes() instead of indexOf() to check for inclusion, as it is more readable and concise.
  
     8 â”‚ // With parentheses
   > 9 â”‚ ("hello".indexOf("e")) !== -1;
       â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    10 â”‚ 
    11 â”‚ // Basic regex patterns
  
  i Safe fix: Replace with 'includes()'
  
     7  7 â”‚   
     8  8 â”‚   // With parentheses
     9    â”‚ - ("hello".indexOf("e"))Â·!==Â·-1;
        9 â”‚ + "hello".includes("e");
    10 10 â”‚   
    11 11 â”‚   // Basic regex patterns
  

```

```
invalid_if_while.js:12:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use String.prototype.includes() instead of RegExp.prototype.test() for simple searches as it is more readable and concise.
  
    11 â”‚ // Basic regex patterns
  > 12 â”‚ /a/.test("abc");
       â”‚ ^^^^^^^^^^^^^^^
    13 â”‚ 
    14 â”‚ // Unicode characters in regex
  
  i Safe fix: Replace with 'includes()'
  
    10 10 â”‚   
    11 11 â”‚   // Basic regex patterns
    12    â”‚ - /a/.test("abc");
       12 â”‚ + "abc".includes("a");
    13 13 â”‚   
    14 14 â”‚   // Unicode characters in regex
  

```

```
invalid_if_while.js:15:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use String.prototype.includes() instead of RegExp.prototype.test() for simple searches as it is more readable and concise.
  
    14 â”‚ // Unicode characters in regex
  > 15 â”‚ /Ã¡/.test("cafÃ©");
       â”‚ ^^^^^^^^^^^^^^^^
    16 â”‚ /ðŸ˜€/.test("hello ðŸ˜€");
    17 â”‚ /ä¸­/.test("ä¸­æ–‡");
  
  i Safe fix: Replace with 'includes()'
  
    13 13 â”‚   
    14 14 â”‚   // Unicode characters in regex
    15    â”‚ - /Ã¡/.test("cafÃ©");
       15 â”‚ + "cafÃ©".includes("Ã¡");
    16 16 â”‚   /ðŸ˜€/.test("hello ðŸ˜€");
    17 17 â”‚   /ä¸­/.test("ä¸­æ–‡");
  

```

```
invalid_if_while.js:16:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use String.prototype.includes() instead of RegExp.prototype.test() for simple searches as it is more readable and concise.
  
    14 â”‚ // Unicode characters in regex
    15 â”‚ /Ã¡/.test("cafÃ©");
  > 16 â”‚ /ðŸ˜€/.test("hello ðŸ˜€");
       â”‚ ^^^^^^^^^^^^^^^^^^^^^
    17 â”‚ /ä¸­/.test("ä¸­æ–‡");
    18 â”‚ 
  
  i Safe fix: Replace with 'includes()'
  
    14 14 â”‚   // Unicode characters in regex
    15 15 â”‚   /Ã¡/.test("cafÃ©");
    16    â”‚ - /ðŸ˜€/.test("helloÂ·ðŸ˜€");
       16 â”‚ + "helloÂ·ðŸ˜€".includes("ðŸ˜€");
    17 17 â”‚   /ä¸­/.test("ä¸­æ–‡");
    18 18 â”‚   
  

```

```
invalid_if_while.js:17:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use String.prototype.includes() instead of RegExp.prototype.test() for simple searches as it is more readable and concise.
  
    15 â”‚ /Ã¡/.test("cafÃ©");
    16 â”‚ /ðŸ˜€/.test("hello ðŸ˜€");
  > 17 â”‚ /ä¸­/.test("ä¸­æ–‡");
       â”‚ ^^^^^^^^^^^^^^^^^
    18 â”‚ 
    19 â”‚ // Whitespace in regex
  
  i Safe fix: Replace with 'includes()'
  
    15 15 â”‚   /Ã¡/.test("cafÃ©");
    16 16 â”‚   /ðŸ˜€/.test("hello ðŸ˜€");
    17    â”‚ - /ä¸­/.test("ä¸­æ–‡");
       17 â”‚ + "ä¸­æ–‡".includes("ä¸­");
    18 18 â”‚   
    19 19 â”‚   // Whitespace in regex
  

```

```
invalid_if_while.js:20:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use String.prototype.includes() instead of RegExp.prototype.test() for simple searches as it is more readable and concise.
  
    19 â”‚ // Whitespace in regex
  > 20 â”‚ / /.test("hello world");
       â”‚ ^^^^^^^^^^^^^^^^^^^^^^^
    21 â”‚ 
  
  i Safe fix: Replace with 'includes()'
  
    18 18 â”‚   
    19 19 â”‚   // Whitespace in regex
    20    â”‚ - /Â·/.test("helloÂ·world");
       20 â”‚ + "helloÂ·world".includes("Â·");
    21 21 â”‚   
  

```
