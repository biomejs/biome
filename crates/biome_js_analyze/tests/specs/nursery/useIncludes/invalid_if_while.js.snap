---
source: crates/biome_js_analyze/tests/spec_tests.rs
expression: invalid_if_while.js
---
# Input
```js
// in if/while
if ("foo".indexOf("o") !== -1) {}
while (["a", "b", "c"].indexOf("a") === -1) {}
if (("foo".indexOf("o")) !== -1) {}

// With parentheses
("hello".indexOf("e")) !== -1;

// Basic regex patterns
/a/.test("abc");

// Unicode characters in regex
/Ã¡/.test("cafÃ©");
/ðŸ˜€/.test("hello ðŸ˜€");
/ä¸­/.test("ä¸­æ–‡");

// Whitespace in regex
/ /.test("hello world");

```

# Diagnostics
```
invalid_if_while.js:2:5 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use includes() instead of indexOf() to check for inclusion, as it is more readable and concise.
  
    1 â”‚ // in if/while
  > 2 â”‚ if ("foo".indexOf("o") !== -1) {}
      â”‚     ^^^^^^^^^^^^^^^^^^^^^^^^^
    3 â”‚ while (["a", "b", "c"].indexOf("a") === -1) {}
    4 â”‚ if (("foo".indexOf("o")) !== -1) {}
  
  i Safe fix: Replace with 'includes()'
  
     1  1 â”‚   // in if/while
     2    â”‚ - ifÂ·("foo".indexOf("o")Â·!==Â·-1)Â·{}
        2 â”‚ + ifÂ·("foo".includes("o"))Â·{}
     3  3 â”‚   while (["a", "b", "c"].indexOf("a") === -1) {}
     4  4 â”‚   if (("foo".indexOf("o")) !== -1) {}
  

```

```
invalid_if_while.js:3:8 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use includes() instead of indexOf() to check for inclusion, as it is more readable and concise.
  
    1 â”‚ // in if/while
    2 â”‚ if ("foo".indexOf("o") !== -1) {}
  > 3 â”‚ while (["a", "b", "c"].indexOf("a") === -1) {}
      â”‚        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    4 â”‚ if (("foo".indexOf("o")) !== -1) {}
    5 â”‚ 
  
  i Safe fix: Replace with 'includes()'
  
     1  1 â”‚   // in if/while
     2  2 â”‚   if ("foo".indexOf("o") !== -1) {}
     3    â”‚ - whileÂ·(["a",Â·"b",Â·"c"].indexOf("a")Â·===Â·-1)Â·{}
        3 â”‚ + whileÂ·(!["a",Â·"b",Â·"c"].includes("a"))Â·{}
     4  4 â”‚   if (("foo".indexOf("o")) !== -1) {}
     5  5 â”‚   
  

```

```
invalid_if_while.js:4:5 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use includes() instead of indexOf() to check for inclusion, as it is more readable and concise.
  
    2 â”‚ if ("foo".indexOf("o") !== -1) {}
    3 â”‚ while (["a", "b", "c"].indexOf("a") === -1) {}
  > 4 â”‚ if (("foo".indexOf("o")) !== -1) {}
      â”‚     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    5 â”‚ 
    6 â”‚ // With parentheses
  
  i Safe fix: Replace with 'includes()'
  
     2  2 â”‚   if ("foo".indexOf("o") !== -1) {}
     3  3 â”‚   while (["a", "b", "c"].indexOf("a") === -1) {}
     4    â”‚ - ifÂ·(("foo".indexOf("o"))Â·!==Â·-1)Â·{}
        4 â”‚ + ifÂ·("foo".includes("o"))Â·{}
     5  5 â”‚   
     6  6 â”‚   // With parentheses
  

```

```
invalid_if_while.js:7:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use includes() instead of indexOf() to check for inclusion, as it is more readable and concise.
  
    6 â”‚ // With parentheses
  > 7 â”‚ ("hello".indexOf("e")) !== -1;
      â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    8 â”‚ 
    9 â”‚ // Basic regex patterns
  
  i Safe fix: Replace with 'includes()'
  
     5  5 â”‚   
     6  6 â”‚   // With parentheses
     7    â”‚ - ("hello".indexOf("e"))Â·!==Â·-1;
        7 â”‚ + "hello".includes("e");
     8  8 â”‚   
     9  9 â”‚   // Basic regex patterns
  

```

```
invalid_if_while.js:10:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use String.prototype.includes() instead of RegExp.prototype.test() for simple searches as it is more readable and concise.
  
     9 â”‚ // Basic regex patterns
  > 10 â”‚ /a/.test("abc");
       â”‚ ^^^^^^^^^^^^^^^
    11 â”‚ 
    12 â”‚ // Unicode characters in regex
  
  i Safe fix: Replace with 'includes()'
  
     8  8 â”‚   
     9  9 â”‚   // Basic regex patterns
    10    â”‚ - /a/.test("abc");
       10 â”‚ + "abc".includes("a");
    11 11 â”‚   
    12 12 â”‚   // Unicode characters in regex
  

```

```
invalid_if_while.js:13:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use String.prototype.includes() instead of RegExp.prototype.test() for simple searches as it is more readable and concise.
  
    12 â”‚ // Unicode characters in regex
  > 13 â”‚ /Ã¡/.test("cafÃ©");
       â”‚ ^^^^^^^^^^^^^^^^
    14 â”‚ /ðŸ˜€/.test("hello ðŸ˜€");
    15 â”‚ /ä¸­/.test("ä¸­æ–‡");
  
  i Safe fix: Replace with 'includes()'
  
    11 11 â”‚   
    12 12 â”‚   // Unicode characters in regex
    13    â”‚ - /Ã¡/.test("cafÃ©");
       13 â”‚ + "cafÃ©".includes("Ã¡");
    14 14 â”‚   /ðŸ˜€/.test("hello ðŸ˜€");
    15 15 â”‚   /ä¸­/.test("ä¸­æ–‡");
  

```

```
invalid_if_while.js:14:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use String.prototype.includes() instead of RegExp.prototype.test() for simple searches as it is more readable and concise.
  
    12 â”‚ // Unicode characters in regex
    13 â”‚ /Ã¡/.test("cafÃ©");
  > 14 â”‚ /ðŸ˜€/.test("hello ðŸ˜€");
       â”‚ ^^^^^^^^^^^^^^^^^^^^^
    15 â”‚ /ä¸­/.test("ä¸­æ–‡");
    16 â”‚ 
  
  i Safe fix: Replace with 'includes()'
  
    12 12 â”‚   // Unicode characters in regex
    13 13 â”‚   /Ã¡/.test("cafÃ©");
    14    â”‚ - /ðŸ˜€/.test("helloÂ·ðŸ˜€");
       14 â”‚ + "helloÂ·ðŸ˜€".includes("ðŸ˜€");
    15 15 â”‚   /ä¸­/.test("ä¸­æ–‡");
    16 16 â”‚   
  

```

```
invalid_if_while.js:15:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use String.prototype.includes() instead of RegExp.prototype.test() for simple searches as it is more readable and concise.
  
    13 â”‚ /Ã¡/.test("cafÃ©");
    14 â”‚ /ðŸ˜€/.test("hello ðŸ˜€");
  > 15 â”‚ /ä¸­/.test("ä¸­æ–‡");
       â”‚ ^^^^^^^^^^^^^^^^^
    16 â”‚ 
    17 â”‚ // Whitespace in regex
  
  i Safe fix: Replace with 'includes()'
  
    13 13 â”‚   /Ã¡/.test("cafÃ©");
    14 14 â”‚   /ðŸ˜€/.test("hello ðŸ˜€");
    15    â”‚ - /ä¸­/.test("ä¸­æ–‡");
       15 â”‚ + "ä¸­æ–‡".includes("ä¸­");
    16 16 â”‚   
    17 17 â”‚   // Whitespace in regex
  

```

```
invalid_if_while.js:18:1 lint/nursery/useIncludes  FIXABLE  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  i Use String.prototype.includes() instead of RegExp.prototype.test() for simple searches as it is more readable and concise.
  
    17 â”‚ // Whitespace in regex
  > 18 â”‚ / /.test("hello world");
       â”‚ ^^^^^^^^^^^^^^^^^^^^^^^
    19 â”‚ 
  
  i Safe fix: Replace with 'includes()'
  
    16 16 â”‚   
    17 17 â”‚   // Whitespace in regex
    18    â”‚ - /Â·/.test("helloÂ·world");
       18 â”‚ + "helloÂ·world".includes("Â·");
    19 19 â”‚   
  

```
