---
source: crates/biome_js_analyze/tests/spec_tests.rs
expression: conditional.js
---
# Input
```js
/* should generate diagnostics */

test("if statement", async ({ page }) => {
    if (someCondition) {
        await expect(page).toHaveTitle("Title");
    }
});

test("ternary", async ({ page }) => {
    someCondition ? await expect(page).toHaveTitle("Title") : null;
});

test("logical and", async ({ page }) => {
    someCondition && await expect(page).toHaveTitle("Title");
});

test("switch case", async ({ page }) => {
    switch (value) {
        case "a":
            await expect(page).toHaveTitle("Title");
            break;
    }
});

```

# Diagnostics
```
conditional.js:5:15 lint/nursery/noPlaywrightConditionalExpect ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Unexpected conditional expect() call.
  
    3 │ test("if statement", async ({ page }) => {
    4 │     if (someCondition) {
  > 5 │         await expect(page).toHaveTitle("Title");
      │               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    6 │     }
    7 │ });
  
  i This expect() is inside a if statement, which means it may not always run.
  
  i Consider using test.skip() to conditionally skip the test, or restructure to avoid conditional expectations.
  
  i This rule belongs to the nursery group, which means it is not yet stable and may change in the future. Visit https://biomejs.dev/linter/#nursery for more information.
  

```

```
conditional.js:5:15 lint/nursery/noPlaywrightConditionalExpect ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Unexpected conditional expect() call.
  
    3 │ test("if statement", async ({ page }) => {
    4 │     if (someCondition) {
  > 5 │         await expect(page).toHaveTitle("Title");
      │               ^^^^^^^^^^^^
    6 │     }
    7 │ });
  
  i This expect() is inside a if statement, which means it may not always run.
  
  i Consider using test.skip() to conditionally skip the test, or restructure to avoid conditional expectations.
  
  i This rule belongs to the nursery group, which means it is not yet stable and may change in the future. Visit https://biomejs.dev/linter/#nursery for more information.
  

```

```
conditional.js:10:27 lint/nursery/noPlaywrightConditionalExpect ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Unexpected conditional expect() call.
  
     9 │ test("ternary", async ({ page }) => {
  > 10 │     someCondition ? await expect(page).toHaveTitle("Title") : null;
       │                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    11 │ });
    12 │ 
  
  i This expect() is inside a ternary expression, which means it may not always run.
  
  i Consider using test.skip() to conditionally skip the test, or restructure to avoid conditional expectations.
  
  i This rule belongs to the nursery group, which means it is not yet stable and may change in the future. Visit https://biomejs.dev/linter/#nursery for more information.
  

```

```
conditional.js:10:27 lint/nursery/noPlaywrightConditionalExpect ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Unexpected conditional expect() call.
  
     9 │ test("ternary", async ({ page }) => {
  > 10 │     someCondition ? await expect(page).toHaveTitle("Title") : null;
       │                           ^^^^^^^^^^^^
    11 │ });
    12 │ 
  
  i This expect() is inside a ternary expression, which means it may not always run.
  
  i Consider using test.skip() to conditionally skip the test, or restructure to avoid conditional expectations.
  
  i This rule belongs to the nursery group, which means it is not yet stable and may change in the future. Visit https://biomejs.dev/linter/#nursery for more information.
  

```

```
conditional.js:14:28 lint/nursery/noPlaywrightConditionalExpect ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Unexpected conditional expect() call.
  
    13 │ test("logical and", async ({ page }) => {
  > 14 │     someCondition && await expect(page).toHaveTitle("Title");
       │                            ^^^^^^^^^^^^
    15 │ });
    16 │ 
  
  i This expect() is inside a logical expression, which means it may not always run.
  
  i Consider using test.skip() to conditionally skip the test, or restructure to avoid conditional expectations.
  
  i This rule belongs to the nursery group, which means it is not yet stable and may change in the future. Visit https://biomejs.dev/linter/#nursery for more information.
  

```

```
conditional.js:14:28 lint/nursery/noPlaywrightConditionalExpect ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Unexpected conditional expect() call.
  
    13 │ test("logical and", async ({ page }) => {
  > 14 │     someCondition && await expect(page).toHaveTitle("Title");
       │                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    15 │ });
    16 │ 
  
  i This expect() is inside a logical expression, which means it may not always run.
  
  i Consider using test.skip() to conditionally skip the test, or restructure to avoid conditional expectations.
  
  i This rule belongs to the nursery group, which means it is not yet stable and may change in the future. Visit https://biomejs.dev/linter/#nursery for more information.
  

```

```
conditional.js:20:19 lint/nursery/noPlaywrightConditionalExpect ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Unexpected conditional expect() call.
  
    18 │     switch (value) {
    19 │         case "a":
  > 20 │             await expect(page).toHaveTitle("Title");
       │                   ^^^^^^^^^^^^
    21 │             break;
    22 │     }
  
  i This expect() is inside a switch case, which means it may not always run.
  
  i Consider using test.skip() to conditionally skip the test, or restructure to avoid conditional expectations.
  
  i This rule belongs to the nursery group, which means it is not yet stable and may change in the future. Visit https://biomejs.dev/linter/#nursery for more information.
  

```

```
conditional.js:20:19 lint/nursery/noPlaywrightConditionalExpect ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  i Unexpected conditional expect() call.
  
    18 │     switch (value) {
    19 │         case "a":
  > 20 │             await expect(page).toHaveTitle("Title");
       │                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    21 │             break;
    22 │     }
  
  i This expect() is inside a switch case, which means it may not always run.
  
  i Consider using test.skip() to conditionally skip the test, or restructure to avoid conditional expectations.
  
  i This rule belongs to the nursery group, which means it is not yet stable and may change in the future. Visit https://biomejs.dev/linter/#nursery for more information.
  

```
