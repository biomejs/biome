---
source: crates/biome_formatter_test/src/snapshot_builder.rs
assertion_line: 211
info: js/async-do-expressions/async-do-expressions.js
---
# Input

```js
async do {
  1;
};

(async do {});

let x = async do {
  if (foo()) { f() }
  else if (bar()) { g() }
  else { h() }
};

async do {
  await 42
}

let x = async do {
  let tmp = f();
  tmp * tmp + 1
};

```


# Prettier differences

```diff
--- Prettier
+++ Biome
@@ -1,24 +1,26 @@
-(async do {
+async;
+do {
   1;
-});
+};
 
-(async do {});
+(async
+do {});
 
-let x = async do {
-  if (foo()) {
-    f();
-  } else if (bar()) {
-    g();
-  } else {
-    h();
-  }
+let x = async;
+do {
+  if (foo()) { f() }
+  else if (bar()) { g() }
+  else { h() }
 };
 
-(async do {
-  await 42;
-});
+async;
+do {
+  await 42
+}
 
-let x = async do {
+let
+x = async;
+do {
   let tmp = f();
-  tmp * tmp + 1;
+  tmp * tmp + 1
 };
```

# Output

```js
async;
do {
  1;
};

(async
do {});

let x = async;
do {
  if (foo()) { f() }
  else if (bar()) { g() }
  else { h() }
};

async;
do {
  await 42
}

let
x = async;
do {
  let tmp = f();
  tmp * tmp + 1
};
```

# Errors
```
async-do-expressions.js:1:7 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Expected a semicolon or an implicit semicolon after a statement, but found none
  
  > 1 │ async do {
      │       ^^
    2 │   1;
    3 │ };
  
  i An explicit or implicit semicolon is expected here...
  
  > 1 │ async do {
      │       ^^
    2 │   1;
    3 │ };
  
  i ...Which is required to end this statement
  
  > 1 │ async do {
      │ ^^^^^^^^
    2 │   1;
    3 │ };
  
async-do-expressions.js:3:2 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × expected `while` but instead found `;`
  
    1 │ async do {
    2 │   1;
  > 3 │ };
      │  ^
    4 │ 
    5 │ (async do {});
  
  i Remove ;
  
async-do-expressions.js:5:8 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × expected `)` but instead found `do`
  
    3 │ };
    4 │ 
  > 5 │ (async do {});
      │        ^^
    6 │ 
    7 │ let x = async do {
  
  i Remove do
  
async-do-expressions.js:5:13 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × expected `while` but instead found `)`
  
    3 │ };
    4 │ 
  > 5 │ (async do {});
      │             ^
    6 │ 
    7 │ let x = async do {
  
  i Remove )
  
async-do-expressions.js:7:15 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Expected a semicolon or an implicit semicolon after a statement, but found none
  
    5 │ (async do {});
    6 │ 
  > 7 │ let x = async do {
      │               ^^
    8 │   if (foo()) { f() }
    9 │   else if (bar()) { g() }
  
  i An explicit or implicit semicolon is expected here...
  
    5 │ (async do {});
    6 │ 
  > 7 │ let x = async do {
      │               ^^
    8 │   if (foo()) { f() }
    9 │   else if (bar()) { g() }
  
  i ...Which is required to end this statement
  
    5 │ (async do {});
    6 │ 
  > 7 │ let x = async do {
      │ ^^^^^^^^^^^^^^
    8 │   if (foo()) { f() }
    9 │   else if (bar()) { g() }
  
async-do-expressions.js:11:2 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × expected `while` but instead found `;`
  
     9 │   else if (bar()) { g() }
    10 │   else { h() }
  > 11 │ };
       │  ^
    12 │ 
    13 │ async do {
  
  i Remove ;
  
async-do-expressions.js:13:7 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Expected a semicolon or an implicit semicolon after a statement, but found none
  
    11 │ };
    12 │ 
  > 13 │ async do {
       │       ^^
    14 │   await 42
    15 │ }
  
  i An explicit or implicit semicolon is expected here...
  
    11 │ };
    12 │ 
  > 13 │ async do {
       │       ^^
    14 │   await 42
    15 │ }
  
  i ...Which is required to end this statement
  
    11 │ };
    12 │ 
  > 13 │ async do {
       │ ^^^^^^^^
    14 │   await 42
    15 │ }
  
async-do-expressions.js:17:1 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × expected `while` but instead found `let`
  
    15 │ }
    16 │ 
  > 17 │ let x = async do {
       │ ^^^
    18 │   let tmp = f();
    19 │   tmp * tmp + 1
  
  i Remove let
  
async-do-expressions.js:17:5 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × expected `)` but instead found `x`
  
    15 │ }
    16 │ 
  > 17 │ let x = async do {
       │     ^
    18 │   let tmp = f();
    19 │   tmp * tmp + 1
  
  i Remove x
  
async-do-expressions.js:17:15 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Expected a semicolon or an implicit semicolon after a statement, but found none
  
    15 │ }
    16 │ 
  > 17 │ let x = async do {
       │               ^^
    18 │   let tmp = f();
    19 │   tmp * tmp + 1
  
  i An explicit or implicit semicolon is expected here...
  
    15 │ }
    16 │ 
  > 17 │ let x = async do {
       │               ^^
    18 │   let tmp = f();
    19 │   tmp * tmp + 1
  
  i ...Which is required to end this statement
  
    15 │ }
    16 │ 
  > 17 │ let x = async do {
       │     ^^^^^^^^^^^^
    18 │   let tmp = f();
    19 │   tmp * tmp + 1
  
async-do-expressions.js:20:2 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × expected `while` but instead found `;`
  
    18 │   let tmp = f();
    19 │   tmp * tmp + 1
  > 20 │ };
       │  ^
    21 │ 
  
  i Remove ;
  

```
