---
source: crates/biome_css_parser/tests/spec_test.rs
expression: snapshot
---

## Input

```css
:has( {}
:has() {}
:has(^invalid) {}
:has(^invalid {}
:has(^invalid .class) {}
:has(.div .class,^invalid) {}
:has(.div .class {}
:has(.div {}
:has(.div

```


## AST

```
CssStyleSheet {
    bom_token: missing (optional),
    content: CssStyleSheetContent [
        CssQualifiedRule {
            prelude: CssQualifiedRulePrelude [
                CssPreservedTokenKey {
                    value: COLON@0..1 ":" [] [],
                },
                CssFunctionBlock {
                    css_function_token: CssFunctionToken {
                        valye_token: FUNCTION_TOKEN@1..6 "has(" [] [Whitespace(" ")],
                    },
                    css_component_value_list: CssComponentValueList [
                        CssSimpleCurlyBracketsBlock {
                            l_curly_token: L_CURLY@6..7 "{" [] [],
                            content: CssSimpleComponentValueList [],
                            r_curly_token: R_CURLY@7..8 "}" [] [],
                        },
                        CssPreservedTokenKey {
                            value: COLON@8..10 ":" [Newline("\n")] [],
                        },
                        CssFunctionBlock {
                            css_function_token: CssFunctionToken {
                                valye_token: FUNCTION_TOKEN@10..14 "has(" [] [],
                            },
                            css_component_value_list: CssComponentValueList [],
                            r_paren_token: R_PAREN@14..16 ")" [] [Whitespace(" ")],
                        },
                        CssSimpleCurlyBracketsBlock {
                            l_curly_token: L_CURLY@16..17 "{" [] [],
                            content: CssSimpleComponentValueList [],
                            r_curly_token: R_CURLY@17..18 "}" [] [],
                        },
                        CssPreservedTokenKey {
                            value: COLON@18..20 ":" [Newline("\n")] [],
                        },
                        CssFunctionBlock {
                            css_function_token: CssFunctionToken {
                                valye_token: FUNCTION_TOKEN@20..24 "has(" [] [],
                            },
                            css_component_value_list: CssComponentValueList [
                                CssDelim {
                                    value_token: DELIM@24..25 "^" [] [],
                                },
                                CssIdentifier {
                                    value_token: IDENT@25..32 "invalid" [] [],
                                },
                            ],
                            r_paren_token: R_PAREN@32..34 ")" [] [Whitespace(" ")],
                        },
                        CssSimpleCurlyBracketsBlock {
                            l_curly_token: L_CURLY@34..35 "{" [] [],
                            content: CssSimpleComponentValueList [],
                            r_curly_token: R_CURLY@35..36 "}" [] [],
                        },
                        CssPreservedTokenKey {
                            value: COLON@36..38 ":" [Newline("\n")] [],
                        },
                        CssFunctionBlock {
                            css_function_token: CssFunctionToken {
                                valye_token: FUNCTION_TOKEN@38..42 "has(" [] [],
                            },
                            css_component_value_list: CssComponentValueList [
                                CssDelim {
                                    value_token: DELIM@42..43 "^" [] [],
                                },
                                CssIdentifier {
                                    value_token: IDENT@43..51 "invalid" [] [Whitespace(" ")],
                                },
                                CssSimpleCurlyBracketsBlock {
                                    l_curly_token: L_CURLY@51..52 "{" [] [],
                                    content: CssSimpleComponentValueList [],
                                    r_curly_token: R_CURLY@52..53 "}" [] [],
                                },
                                CssPreservedTokenKey {
                                    value: COLON@53..55 ":" [Newline("\n")] [],
                                },
                                CssFunctionBlock {
                                    css_function_token: CssFunctionToken {
                                        valye_token: FUNCTION_TOKEN@55..59 "has(" [] [],
                                    },
                                    css_component_value_list: CssComponentValueList [
                                        CssDelim {
                                            value_token: DELIM@59..60 "^" [] [],
                                        },
                                        CssIdentifier {
                                            value_token: IDENT@60..68 "invalid" [] [Whitespace(" ")],
                                        },
                                        CssDelim {
                                            value_token: DELIM@68..69 "." [] [],
                                        },
                                        CssIdentifier {
                                            value_token: IDENT@69..74 "class" [] [],
                                        },
                                    ],
                                    r_paren_token: R_PAREN@74..76 ")" [] [Whitespace(" ")],
                                },
                                CssSimpleCurlyBracketsBlock {
                                    l_curly_token: L_CURLY@76..77 "{" [] [],
                                    content: CssSimpleComponentValueList [],
                                    r_curly_token: R_CURLY@77..78 "}" [] [],
                                },
                                CssPreservedTokenKey {
                                    value: COLON@78..80 ":" [Newline("\n")] [],
                                },
                                CssFunctionBlock {
                                    css_function_token: CssFunctionToken {
                                        valye_token: FUNCTION_TOKEN@80..84 "has(" [] [],
                                    },
                                    css_component_value_list: CssComponentValueList [
                                        CssDelim {
                                            value_token: DELIM@84..85 "." [] [],
                                        },
                                        CssIdentifier {
                                            value_token: IDENT@85..89 "div" [] [Whitespace(" ")],
                                        },
                                        CssDelim {
                                            value_token: DELIM@89..90 "." [] [],
                                        },
                                        CssIdentifier {
                                            value_token: IDENT@90..95 "class" [] [],
                                        },
                                        CssDelim {
                                            value_token: DELIM@95..96 "," [] [],
                                        },
                                        CssDelim {
                                            value_token: DELIM@96..97 "^" [] [],
                                        },
                                        CssIdentifier {
                                            value_token: IDENT@97..104 "invalid" [] [],
                                        },
                                    ],
                                    r_paren_token: R_PAREN@104..106 ")" [] [Whitespace(" ")],
                                },
                                CssSimpleCurlyBracketsBlock {
                                    l_curly_token: L_CURLY@106..107 "{" [] [],
                                    content: CssSimpleComponentValueList [],
                                    r_curly_token: R_CURLY@107..108 "}" [] [],
                                },
                                CssPreservedTokenKey {
                                    value: COLON@108..110 ":" [Newline("\n")] [],
                                },
                                CssFunctionBlock {
                                    css_function_token: CssFunctionToken {
                                        valye_token: FUNCTION_TOKEN@110..114 "has(" [] [],
                                    },
                                    css_component_value_list: CssComponentValueList [
                                        CssDelim {
                                            value_token: DELIM@114..115 "." [] [],
                                        },
                                        CssIdentifier {
                                            value_token: IDENT@115..119 "div" [] [Whitespace(" ")],
                                        },
                                        CssDelim {
                                            value_token: DELIM@119..120 "." [] [],
                                        },
                                        CssIdentifier {
                                            value_token: IDENT@120..126 "class" [] [Whitespace(" ")],
                                        },
                                        CssSimpleCurlyBracketsBlock {
                                            l_curly_token: L_CURLY@126..127 "{" [] [],
                                            content: CssSimpleComponentValueList [],
                                            r_curly_token: R_CURLY@127..128 "}" [] [],
                                        },
                                        CssPreservedTokenKey {
                                            value: COLON@128..130 ":" [Newline("\n")] [],
                                        },
                                        CssFunctionBlock {
                                            css_function_token: CssFunctionToken {
                                                valye_token: FUNCTION_TOKEN@130..134 "has(" [] [],
                                            },
                                            css_component_value_list: CssComponentValueList [
                                                CssDelim {
                                                    value_token: DELIM@134..135 "." [] [],
                                                },
                                                CssIdentifier {
                                                    value_token: IDENT@135..139 "div" [] [Whitespace(" ")],
                                                },
                                                CssSimpleCurlyBracketsBlock {
                                                    l_curly_token: L_CURLY@139..140 "{" [] [],
                                                    content: CssSimpleComponentValueList [],
                                                    r_curly_token: R_CURLY@140..141 "}" [] [],
                                                },
                                                CssPreservedTokenKey {
                                                    value: COLON@141..143 ":" [Newline("\n")] [],
                                                },
                                                CssFunctionBlock {
                                                    css_function_token: CssFunctionToken {
                                                        valye_token: FUNCTION_TOKEN@143..147 "has(" [] [],
                                                    },
                                                    css_component_value_list: CssComponentValueList [
                                                        CssDelim {
                                                            value_token: DELIM@147..148 "." [] [],
                                                        },
                                                        CssIdentifier {
                                                            value_token: IDENT@148..151 "div" [] [],
                                                        },
                                                    ],
                                                    r_paren_token: missing (required),
                                                },
                                            ],
                                            r_paren_token: missing (required),
                                        },
                                    ],
                                    r_paren_token: missing (required),
                                },
                            ],
                            r_paren_token: missing (required),
                        },
                    ],
                    r_paren_token: missing (required),
                },
            ],
            block: missing (required),
        },
    ],
    eof_token: EOF@151..152 "" [Newline("\n")] [],
}
```

## CST

```
0: CSS_STYLE_SHEET@0..152
  0: (empty)
  1: CSS_STYLE_SHEET_CONTENT@0..151
    0: CSS_QUALIFIED_RULE@0..151
      0: CSS_QUALIFIED_RULE_PRELUDE@0..151
        0: CSS_PRESERVED_TOKEN_KEY@0..1
          0: COLON@0..1 ":" [] []
        1: CSS_FUNCTION_BLOCK@1..151
          0: CSS_FUNCTION_TOKEN@1..6
            0: FUNCTION_TOKEN@1..6 "has(" [] [Whitespace(" ")]
          1: CSS_COMPONENT_VALUE_LIST@6..151
            0: CSS_SIMPLE_CURLY_BRACKETS_BLOCK@6..8
              0: L_CURLY@6..7 "{" [] []
              1: CSS_SIMPLE_COMPONENT_VALUE_LIST@7..7
              2: R_CURLY@7..8 "}" [] []
            1: CSS_PRESERVED_TOKEN_KEY@8..10
              0: COLON@8..10 ":" [Newline("\n")] []
            2: CSS_FUNCTION_BLOCK@10..16
              0: CSS_FUNCTION_TOKEN@10..14
                0: FUNCTION_TOKEN@10..14 "has(" [] []
              1: CSS_COMPONENT_VALUE_LIST@14..14
              2: R_PAREN@14..16 ")" [] [Whitespace(" ")]
            3: CSS_SIMPLE_CURLY_BRACKETS_BLOCK@16..18
              0: L_CURLY@16..17 "{" [] []
              1: CSS_SIMPLE_COMPONENT_VALUE_LIST@17..17
              2: R_CURLY@17..18 "}" [] []
            4: CSS_PRESERVED_TOKEN_KEY@18..20
              0: COLON@18..20 ":" [Newline("\n")] []
            5: CSS_FUNCTION_BLOCK@20..34
              0: CSS_FUNCTION_TOKEN@20..24
                0: FUNCTION_TOKEN@20..24 "has(" [] []
              1: CSS_COMPONENT_VALUE_LIST@24..32
                0: CSS_DELIM@24..25
                  0: DELIM@24..25 "^" [] []
                1: CSS_IDENTIFIER@25..32
                  0: IDENT@25..32 "invalid" [] []
              2: R_PAREN@32..34 ")" [] [Whitespace(" ")]
            6: CSS_SIMPLE_CURLY_BRACKETS_BLOCK@34..36
              0: L_CURLY@34..35 "{" [] []
              1: CSS_SIMPLE_COMPONENT_VALUE_LIST@35..35
              2: R_CURLY@35..36 "}" [] []
            7: CSS_PRESERVED_TOKEN_KEY@36..38
              0: COLON@36..38 ":" [Newline("\n")] []
            8: CSS_FUNCTION_BLOCK@38..151
              0: CSS_FUNCTION_TOKEN@38..42
                0: FUNCTION_TOKEN@38..42 "has(" [] []
              1: CSS_COMPONENT_VALUE_LIST@42..151
                0: CSS_DELIM@42..43
                  0: DELIM@42..43 "^" [] []
                1: CSS_IDENTIFIER@43..51
                  0: IDENT@43..51 "invalid" [] [Whitespace(" ")]
                2: CSS_SIMPLE_CURLY_BRACKETS_BLOCK@51..53
                  0: L_CURLY@51..52 "{" [] []
                  1: CSS_SIMPLE_COMPONENT_VALUE_LIST@52..52
                  2: R_CURLY@52..53 "}" [] []
                3: CSS_PRESERVED_TOKEN_KEY@53..55
                  0: COLON@53..55 ":" [Newline("\n")] []
                4: CSS_FUNCTION_BLOCK@55..76
                  0: CSS_FUNCTION_TOKEN@55..59
                    0: FUNCTION_TOKEN@55..59 "has(" [] []
                  1: CSS_COMPONENT_VALUE_LIST@59..74
                    0: CSS_DELIM@59..60
                      0: DELIM@59..60 "^" [] []
                    1: CSS_IDENTIFIER@60..68
                      0: IDENT@60..68 "invalid" [] [Whitespace(" ")]
                    2: CSS_DELIM@68..69
                      0: DELIM@68..69 "." [] []
                    3: CSS_IDENTIFIER@69..74
                      0: IDENT@69..74 "class" [] []
                  2: R_PAREN@74..76 ")" [] [Whitespace(" ")]
                5: CSS_SIMPLE_CURLY_BRACKETS_BLOCK@76..78
                  0: L_CURLY@76..77 "{" [] []
                  1: CSS_SIMPLE_COMPONENT_VALUE_LIST@77..77
                  2: R_CURLY@77..78 "}" [] []
                6: CSS_PRESERVED_TOKEN_KEY@78..80
                  0: COLON@78..80 ":" [Newline("\n")] []
                7: CSS_FUNCTION_BLOCK@80..106
                  0: CSS_FUNCTION_TOKEN@80..84
                    0: FUNCTION_TOKEN@80..84 "has(" [] []
                  1: CSS_COMPONENT_VALUE_LIST@84..104
                    0: CSS_DELIM@84..85
                      0: DELIM@84..85 "." [] []
                    1: CSS_IDENTIFIER@85..89
                      0: IDENT@85..89 "div" [] [Whitespace(" ")]
                    2: CSS_DELIM@89..90
                      0: DELIM@89..90 "." [] []
                    3: CSS_IDENTIFIER@90..95
                      0: IDENT@90..95 "class" [] []
                    4: CSS_DELIM@95..96
                      0: DELIM@95..96 "," [] []
                    5: CSS_DELIM@96..97
                      0: DELIM@96..97 "^" [] []
                    6: CSS_IDENTIFIER@97..104
                      0: IDENT@97..104 "invalid" [] []
                  2: R_PAREN@104..106 ")" [] [Whitespace(" ")]
                8: CSS_SIMPLE_CURLY_BRACKETS_BLOCK@106..108
                  0: L_CURLY@106..107 "{" [] []
                  1: CSS_SIMPLE_COMPONENT_VALUE_LIST@107..107
                  2: R_CURLY@107..108 "}" [] []
                9: CSS_PRESERVED_TOKEN_KEY@108..110
                  0: COLON@108..110 ":" [Newline("\n")] []
                10: CSS_FUNCTION_BLOCK@110..151
                  0: CSS_FUNCTION_TOKEN@110..114
                    0: FUNCTION_TOKEN@110..114 "has(" [] []
                  1: CSS_COMPONENT_VALUE_LIST@114..151
                    0: CSS_DELIM@114..115
                      0: DELIM@114..115 "." [] []
                    1: CSS_IDENTIFIER@115..119
                      0: IDENT@115..119 "div" [] [Whitespace(" ")]
                    2: CSS_DELIM@119..120
                      0: DELIM@119..120 "." [] []
                    3: CSS_IDENTIFIER@120..126
                      0: IDENT@120..126 "class" [] [Whitespace(" ")]
                    4: CSS_SIMPLE_CURLY_BRACKETS_BLOCK@126..128
                      0: L_CURLY@126..127 "{" [] []
                      1: CSS_SIMPLE_COMPONENT_VALUE_LIST@127..127
                      2: R_CURLY@127..128 "}" [] []
                    5: CSS_PRESERVED_TOKEN_KEY@128..130
                      0: COLON@128..130 ":" [Newline("\n")] []
                    6: CSS_FUNCTION_BLOCK@130..151
                      0: CSS_FUNCTION_TOKEN@130..134
                        0: FUNCTION_TOKEN@130..134 "has(" [] []
                      1: CSS_COMPONENT_VALUE_LIST@134..151
                        0: CSS_DELIM@134..135
                          0: DELIM@134..135 "." [] []
                        1: CSS_IDENTIFIER@135..139
                          0: IDENT@135..139 "div" [] [Whitespace(" ")]
                        2: CSS_SIMPLE_CURLY_BRACKETS_BLOCK@139..141
                          0: L_CURLY@139..140 "{" [] []
                          1: CSS_SIMPLE_COMPONENT_VALUE_LIST@140..140
                          2: R_CURLY@140..141 "}" [] []
                        3: CSS_PRESERVED_TOKEN_KEY@141..143
                          0: COLON@141..143 ":" [Newline("\n")] []
                        4: CSS_FUNCTION_BLOCK@143..151
                          0: CSS_FUNCTION_TOKEN@143..147
                            0: FUNCTION_TOKEN@143..147 "has(" [] []
                          1: CSS_COMPONENT_VALUE_LIST@147..151
                            0: CSS_DELIM@147..148
                              0: DELIM@147..148 "." [] []
                            1: CSS_IDENTIFIER@148..151
                              0: IDENT@148..151 "div" [] []
                          2: (empty)
                      2: (empty)
                  2: (empty)
              2: (empty)
          2: (empty)
      1: (empty)
  2: EOF@151..152 "" [Newline("\n")] []

```

## Diagnostics

```
pseudo_class_function_relative_selector_list.css:10:1 parse ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × expected `)` but instead the file ends
  
     8 │ :has(.div {}
     9 │ :has(.div
  > 10 │ 
       │ 
  
  i the file ends here
  
     8 │ :has(.div {}
     9 │ :has(.div
  > 10 │ 
       │ 
  
```


