---
source: crates/biome_html_parser/tests/spec_test.rs
expression: snapshot
---
## Input

```glimmer
{{#if showTitle}}
  <h1>{{title}}</h1>
{{/if}}

{{#each items as |item index|}}
  <li>{{item.name}}</li>
{{/each}}

{{#with user as |u|}}
  <p>{{u.name}}</p>
{{/with}}

```


## AST

```
HtmlRoot {
    bom_token: missing (optional),
    frontmatter: missing (optional),
    directive: missing (optional),
    html: HtmlElementList [
        GlimmerBlockHelper {
            opening: GlimmerBlockHelperOpening {
                l_curly2_token_token: L_DOUBLE_CURLY@0..2 "{{" [] [],
                hash_token_token: HASH@2..3 "#" [] [],
                helper: GlimmerPath {
                    at_token_token: missing (optional),
                    segments: GlimmerPathSegmentList [
                        GlimmerPathSegment {
                            value_token_token: IDENT@3..6 "if" [] [Whitespace(" ")],
                        },
                    ],
                },
                arguments: GlimmerArgumentList [
                    GlimmerPositionalArgument {
                        value: GlimmerPath {
                            at_token_token: missing (optional),
                            segments: GlimmerPathSegmentList [
                                GlimmerPathSegment {
                                    value_token_token: IDENT@6..15 "showTitle" [] [],
                                },
                            ],
                        },
                    },
                ],
                block_params: missing (optional),
                r_curly2_token_token: R_DOUBLE_CURLY@15..17 "}}" [] [],
            },
            children: HtmlElementList [
                HtmlElement {
                    opening_element: HtmlOpeningElement {
                        l_angle_token: L_ANGLE@17..21 "<" [Newline("\n"), Whitespace("  ")] [],
                        name: HtmlTagName {
                            value_token: HTML_LITERAL@21..23 "h1" [] [],
                        },
                        attributes: HtmlAttributeList [],
                        r_angle_token: R_ANGLE@23..24 ">" [] [],
                    },
                    children: HtmlElementList [
                        GlimmerMustacheExpression {
                            l_curly2_token_token: L_DOUBLE_CURLY@24..26 "{{" [] [],
                            path: GlimmerPath {
                                at_token_token: missing (optional),
                                segments: GlimmerPathSegmentList [
                                    GlimmerPathSegment {
                                        value_token_token: IDENT@26..31 "title" [] [],
                                    },
                                ],
                            },
                            arguments: GlimmerArgumentList [],
                            r_curly2_token_token: R_DOUBLE_CURLY@31..33 "}}" [] [],
                        },
                    ],
                    closing_element: HtmlClosingElement {
                        l_angle_token: L_ANGLE@33..34 "<" [] [],
                        slash_token: SLASH@34..35 "/" [] [],
                        name: HtmlTagName {
                            value_token: HTML_LITERAL@35..37 "h1" [] [],
                        },
                        r_angle_token: R_ANGLE@37..38 ">" [] [],
                    },
                },
            ],
            closing: GlimmerBlockHelperClosing {
                l_curly2_token_token: L_DOUBLE_CURLY@38..41 "{{" [Newline("\n")] [],
                slash_token_token: SLASH@41..42 "/" [] [],
                helper: GlimmerPath {
                    at_token_token: missing (optional),
                    segments: GlimmerPathSegmentList [
                        GlimmerPathSegment {
                            value_token_token: IDENT@42..44 "if" [] [],
                        },
                    ],
                },
                r_curly2_token_token: R_DOUBLE_CURLY@44..46 "}}" [] [],
            },
        },
        GlimmerBlockHelper {
            opening: GlimmerBlockHelperOpening {
                l_curly2_token_token: L_DOUBLE_CURLY@46..50 "{{" [Newline("\n"), Newline("\n")] [],
                hash_token_token: HASH@50..51 "#" [] [],
                helper: GlimmerPath {
                    at_token_token: missing (optional),
                    segments: GlimmerPathSegmentList [
                        GlimmerPathSegment {
                            value_token_token: IDENT@51..56 "each" [] [Whitespace(" ")],
                        },
                    ],
                },
                arguments: GlimmerArgumentList [
                    GlimmerPositionalArgument {
                        value: GlimmerPath {
                            at_token_token: missing (optional),
                            segments: GlimmerPathSegmentList [
                                GlimmerPathSegment {
                                    value_token_token: IDENT@56..62 "items" [] [Whitespace(" ")],
                                },
                            ],
                        },
                    },
                ],
                block_params: GlimmerBlockParams {
                    as_token_token: IDENT@62..65 "as" [] [Whitespace(" ")],
                    l_pipe_token_token: PIPE@65..66 "|" [] [],
                    params: GlimmerBlockParamList [
                        GlimmerBlockParam {
                            name_token_token: IDENT@66..71 "item" [] [Whitespace(" ")],
                        },
                        GlimmerBlockParam {
                            name_token_token: IDENT@71..76 "index" [] [],
                        },
                    ],
                    r_pipe_token_token: PIPE@76..77 "|" [] [],
                },
                r_curly2_token_token: R_DOUBLE_CURLY@77..79 "}}" [] [],
            },
            children: HtmlElementList [
                HtmlElement {
                    opening_element: HtmlOpeningElement {
                        l_angle_token: L_ANGLE@79..83 "<" [Newline("\n"), Whitespace("  ")] [],
                        name: HtmlTagName {
                            value_token: HTML_LITERAL@83..85 "li" [] [],
                        },
                        attributes: HtmlAttributeList [],
                        r_angle_token: R_ANGLE@85..86 ">" [] [],
                    },
                    children: HtmlElementList [
                        GlimmerMustacheExpression {
                            l_curly2_token_token: L_DOUBLE_CURLY@86..88 "{{" [] [],
                            path: GlimmerPath {
                                at_token_token: missing (optional),
                                segments: GlimmerPathSegmentList [
                                    GlimmerPathSegment {
                                        value_token_token: IDENT@88..92 "item" [] [],
                                    },
                                    DOT@92..93 "." [] [],
                                    GlimmerPathSegment {
                                        value_token_token: IDENT@93..97 "name" [] [],
                                    },
                                ],
                            },
                            arguments: GlimmerArgumentList [],
                            r_curly2_token_token: R_DOUBLE_CURLY@97..99 "}}" [] [],
                        },
                    ],
                    closing_element: HtmlClosingElement {
                        l_angle_token: L_ANGLE@99..100 "<" [] [],
                        slash_token: SLASH@100..101 "/" [] [],
                        name: HtmlTagName {
                            value_token: HTML_LITERAL@101..103 "li" [] [],
                        },
                        r_angle_token: R_ANGLE@103..104 ">" [] [],
                    },
                },
            ],
            closing: GlimmerBlockHelperClosing {
                l_curly2_token_token: L_DOUBLE_CURLY@104..107 "{{" [Newline("\n")] [],
                slash_token_token: SLASH@107..108 "/" [] [],
                helper: GlimmerPath {
                    at_token_token: missing (optional),
                    segments: GlimmerPathSegmentList [
                        GlimmerPathSegment {
                            value_token_token: IDENT@108..112 "each" [] [],
                        },
                    ],
                },
                r_curly2_token_token: R_DOUBLE_CURLY@112..114 "}}" [] [],
            },
        },
        GlimmerBlockHelper {
            opening: GlimmerBlockHelperOpening {
                l_curly2_token_token: L_DOUBLE_CURLY@114..118 "{{" [Newline("\n"), Newline("\n")] [],
                hash_token_token: HASH@118..119 "#" [] [],
                helper: GlimmerPath {
                    at_token_token: missing (optional),
                    segments: GlimmerPathSegmentList [
                        GlimmerPathSegment {
                            value_token_token: IDENT@119..124 "with" [] [Whitespace(" ")],
                        },
                    ],
                },
                arguments: GlimmerArgumentList [
                    GlimmerPositionalArgument {
                        value: GlimmerPath {
                            at_token_token: missing (optional),
                            segments: GlimmerPathSegmentList [
                                GlimmerPathSegment {
                                    value_token_token: IDENT@124..129 "user" [] [Whitespace(" ")],
                                },
                            ],
                        },
                    },
                ],
                block_params: GlimmerBlockParams {
                    as_token_token: IDENT@129..132 "as" [] [Whitespace(" ")],
                    l_pipe_token_token: PIPE@132..133 "|" [] [],
                    params: GlimmerBlockParamList [
                        GlimmerBlockParam {
                            name_token_token: IDENT@133..134 "u" [] [],
                        },
                    ],
                    r_pipe_token_token: PIPE@134..135 "|" [] [],
                },
                r_curly2_token_token: R_DOUBLE_CURLY@135..137 "}}" [] [],
            },
            children: HtmlElementList [
                HtmlElement {
                    opening_element: HtmlOpeningElement {
                        l_angle_token: L_ANGLE@137..141 "<" [Newline("\n"), Whitespace("  ")] [],
                        name: HtmlTagName {
                            value_token: HTML_LITERAL@141..142 "p" [] [],
                        },
                        attributes: HtmlAttributeList [],
                        r_angle_token: R_ANGLE@142..143 ">" [] [],
                    },
                    children: HtmlElementList [
                        GlimmerMustacheExpression {
                            l_curly2_token_token: L_DOUBLE_CURLY@143..145 "{{" [] [],
                            path: GlimmerPath {
                                at_token_token: missing (optional),
                                segments: GlimmerPathSegmentList [
                                    GlimmerPathSegment {
                                        value_token_token: IDENT@145..146 "u" [] [],
                                    },
                                    DOT@146..147 "." [] [],
                                    GlimmerPathSegment {
                                        value_token_token: IDENT@147..151 "name" [] [],
                                    },
                                ],
                            },
                            arguments: GlimmerArgumentList [],
                            r_curly2_token_token: R_DOUBLE_CURLY@151..153 "}}" [] [],
                        },
                    ],
                    closing_element: HtmlClosingElement {
                        l_angle_token: L_ANGLE@153..154 "<" [] [],
                        slash_token: SLASH@154..155 "/" [] [],
                        name: HtmlTagName {
                            value_token: HTML_LITERAL@155..156 "p" [] [],
                        },
                        r_angle_token: R_ANGLE@156..157 ">" [] [],
                    },
                },
            ],
            closing: GlimmerBlockHelperClosing {
                l_curly2_token_token: L_DOUBLE_CURLY@157..160 "{{" [Newline("\n")] [],
                slash_token_token: SLASH@160..161 "/" [] [],
                helper: GlimmerPath {
                    at_token_token: missing (optional),
                    segments: GlimmerPathSegmentList [
                        GlimmerPathSegment {
                            value_token_token: IDENT@161..165 "with" [] [],
                        },
                    ],
                },
                r_curly2_token_token: R_DOUBLE_CURLY@165..167 "}}" [] [],
            },
        },
    ],
    eof_token: EOF@167..168 "" [Newline("\n")] [],
}
```

## CST

```
0: HTML_ROOT@0..168
  0: (empty)
  1: (empty)
  2: (empty)
  3: HTML_ELEMENT_LIST@0..167
    0: GLIMMER_BLOCK_HELPER@0..46
      0: GLIMMER_BLOCK_HELPER_OPENING@0..17
        0: L_DOUBLE_CURLY@0..2 "{{" [] []
        1: HASH@2..3 "#" [] []
        2: GLIMMER_PATH@3..6
          0: (empty)
          1: GLIMMER_PATH_SEGMENT_LIST@3..6
            0: GLIMMER_PATH_SEGMENT@3..6
              0: IDENT@3..6 "if" [] [Whitespace(" ")]
        3: GLIMMER_ARGUMENT_LIST@6..15
          0: GLIMMER_POSITIONAL_ARGUMENT@6..15
            0: GLIMMER_PATH@6..15
              0: (empty)
              1: GLIMMER_PATH_SEGMENT_LIST@6..15
                0: GLIMMER_PATH_SEGMENT@6..15
                  0: IDENT@6..15 "showTitle" [] []
        4: (empty)
        5: R_DOUBLE_CURLY@15..17 "}}" [] []
      1: HTML_ELEMENT_LIST@17..38
        0: HTML_ELEMENT@17..38
          0: HTML_OPENING_ELEMENT@17..24
            0: L_ANGLE@17..21 "<" [Newline("\n"), Whitespace("  ")] []
            1: HTML_TAG_NAME@21..23
              0: HTML_LITERAL@21..23 "h1" [] []
            2: HTML_ATTRIBUTE_LIST@23..23
            3: R_ANGLE@23..24 ">" [] []
          1: HTML_ELEMENT_LIST@24..33
            0: GLIMMER_MUSTACHE_EXPRESSION@24..33
              0: L_DOUBLE_CURLY@24..26 "{{" [] []
              1: GLIMMER_PATH@26..31
                0: (empty)
                1: GLIMMER_PATH_SEGMENT_LIST@26..31
                  0: GLIMMER_PATH_SEGMENT@26..31
                    0: IDENT@26..31 "title" [] []
              2: GLIMMER_ARGUMENT_LIST@31..31
              3: R_DOUBLE_CURLY@31..33 "}}" [] []
          2: HTML_CLOSING_ELEMENT@33..38
            0: L_ANGLE@33..34 "<" [] []
            1: SLASH@34..35 "/" [] []
            2: HTML_TAG_NAME@35..37
              0: HTML_LITERAL@35..37 "h1" [] []
            3: R_ANGLE@37..38 ">" [] []
      2: GLIMMER_BLOCK_HELPER_CLOSING@38..46
        0: L_DOUBLE_CURLY@38..41 "{{" [Newline("\n")] []
        1: SLASH@41..42 "/" [] []
        2: GLIMMER_PATH@42..44
          0: (empty)
          1: GLIMMER_PATH_SEGMENT_LIST@42..44
            0: GLIMMER_PATH_SEGMENT@42..44
              0: IDENT@42..44 "if" [] []
        3: R_DOUBLE_CURLY@44..46 "}}" [] []
    1: GLIMMER_BLOCK_HELPER@46..114
      0: GLIMMER_BLOCK_HELPER_OPENING@46..79
        0: L_DOUBLE_CURLY@46..50 "{{" [Newline("\n"), Newline("\n")] []
        1: HASH@50..51 "#" [] []
        2: GLIMMER_PATH@51..56
          0: (empty)
          1: GLIMMER_PATH_SEGMENT_LIST@51..56
            0: GLIMMER_PATH_SEGMENT@51..56
              0: IDENT@51..56 "each" [] [Whitespace(" ")]
        3: GLIMMER_ARGUMENT_LIST@56..62
          0: GLIMMER_POSITIONAL_ARGUMENT@56..62
            0: GLIMMER_PATH@56..62
              0: (empty)
              1: GLIMMER_PATH_SEGMENT_LIST@56..62
                0: GLIMMER_PATH_SEGMENT@56..62
                  0: IDENT@56..62 "items" [] [Whitespace(" ")]
        4: GLIMMER_BLOCK_PARAMS@62..77
          0: IDENT@62..65 "as" [] [Whitespace(" ")]
          1: PIPE@65..66 "|" [] []
          2: GLIMMER_BLOCK_PARAM_LIST@66..76
            0: GLIMMER_BLOCK_PARAM@66..71
              0: IDENT@66..71 "item" [] [Whitespace(" ")]
            1: GLIMMER_BLOCK_PARAM@71..76
              0: IDENT@71..76 "index" [] []
          3: PIPE@76..77 "|" [] []
        5: R_DOUBLE_CURLY@77..79 "}}" [] []
      1: HTML_ELEMENT_LIST@79..104
        0: HTML_ELEMENT@79..104
          0: HTML_OPENING_ELEMENT@79..86
            0: L_ANGLE@79..83 "<" [Newline("\n"), Whitespace("  ")] []
            1: HTML_TAG_NAME@83..85
              0: HTML_LITERAL@83..85 "li" [] []
            2: HTML_ATTRIBUTE_LIST@85..85
            3: R_ANGLE@85..86 ">" [] []
          1: HTML_ELEMENT_LIST@86..99
            0: GLIMMER_MUSTACHE_EXPRESSION@86..99
              0: L_DOUBLE_CURLY@86..88 "{{" [] []
              1: GLIMMER_PATH@88..97
                0: (empty)
                1: GLIMMER_PATH_SEGMENT_LIST@88..97
                  0: GLIMMER_PATH_SEGMENT@88..92
                    0: IDENT@88..92 "item" [] []
                  1: DOT@92..93 "." [] []
                  2: GLIMMER_PATH_SEGMENT@93..97
                    0: IDENT@93..97 "name" [] []
              2: GLIMMER_ARGUMENT_LIST@97..97
              3: R_DOUBLE_CURLY@97..99 "}}" [] []
          2: HTML_CLOSING_ELEMENT@99..104
            0: L_ANGLE@99..100 "<" [] []
            1: SLASH@100..101 "/" [] []
            2: HTML_TAG_NAME@101..103
              0: HTML_LITERAL@101..103 "li" [] []
            3: R_ANGLE@103..104 ">" [] []
      2: GLIMMER_BLOCK_HELPER_CLOSING@104..114
        0: L_DOUBLE_CURLY@104..107 "{{" [Newline("\n")] []
        1: SLASH@107..108 "/" [] []
        2: GLIMMER_PATH@108..112
          0: (empty)
          1: GLIMMER_PATH_SEGMENT_LIST@108..112
            0: GLIMMER_PATH_SEGMENT@108..112
              0: IDENT@108..112 "each" [] []
        3: R_DOUBLE_CURLY@112..114 "}}" [] []
    2: GLIMMER_BLOCK_HELPER@114..167
      0: GLIMMER_BLOCK_HELPER_OPENING@114..137
        0: L_DOUBLE_CURLY@114..118 "{{" [Newline("\n"), Newline("\n")] []
        1: HASH@118..119 "#" [] []
        2: GLIMMER_PATH@119..124
          0: (empty)
          1: GLIMMER_PATH_SEGMENT_LIST@119..124
            0: GLIMMER_PATH_SEGMENT@119..124
              0: IDENT@119..124 "with" [] [Whitespace(" ")]
        3: GLIMMER_ARGUMENT_LIST@124..129
          0: GLIMMER_POSITIONAL_ARGUMENT@124..129
            0: GLIMMER_PATH@124..129
              0: (empty)
              1: GLIMMER_PATH_SEGMENT_LIST@124..129
                0: GLIMMER_PATH_SEGMENT@124..129
                  0: IDENT@124..129 "user" [] [Whitespace(" ")]
        4: GLIMMER_BLOCK_PARAMS@129..135
          0: IDENT@129..132 "as" [] [Whitespace(" ")]
          1: PIPE@132..133 "|" [] []
          2: GLIMMER_BLOCK_PARAM_LIST@133..134
            0: GLIMMER_BLOCK_PARAM@133..134
              0: IDENT@133..134 "u" [] []
          3: PIPE@134..135 "|" [] []
        5: R_DOUBLE_CURLY@135..137 "}}" [] []
      1: HTML_ELEMENT_LIST@137..157
        0: HTML_ELEMENT@137..157
          0: HTML_OPENING_ELEMENT@137..143
            0: L_ANGLE@137..141 "<" [Newline("\n"), Whitespace("  ")] []
            1: HTML_TAG_NAME@141..142
              0: HTML_LITERAL@141..142 "p" [] []
            2: HTML_ATTRIBUTE_LIST@142..142
            3: R_ANGLE@142..143 ">" [] []
          1: HTML_ELEMENT_LIST@143..153
            0: GLIMMER_MUSTACHE_EXPRESSION@143..153
              0: L_DOUBLE_CURLY@143..145 "{{" [] []
              1: GLIMMER_PATH@145..151
                0: (empty)
                1: GLIMMER_PATH_SEGMENT_LIST@145..151
                  0: GLIMMER_PATH_SEGMENT@145..146
                    0: IDENT@145..146 "u" [] []
                  1: DOT@146..147 "." [] []
                  2: GLIMMER_PATH_SEGMENT@147..151
                    0: IDENT@147..151 "name" [] []
              2: GLIMMER_ARGUMENT_LIST@151..151
              3: R_DOUBLE_CURLY@151..153 "}}" [] []
          2: HTML_CLOSING_ELEMENT@153..157
            0: L_ANGLE@153..154 "<" [] []
            1: SLASH@154..155 "/" [] []
            2: HTML_TAG_NAME@155..156
              0: HTML_LITERAL@155..156 "p" [] []
            3: R_ANGLE@156..157 ">" [] []
      2: GLIMMER_BLOCK_HELPER_CLOSING@157..167
        0: L_DOUBLE_CURLY@157..160 "{{" [Newline("\n")] []
        1: SLASH@160..161 "/" [] []
        2: GLIMMER_PATH@161..165
          0: (empty)
          1: GLIMMER_PATH_SEGMENT_LIST@161..165
            0: GLIMMER_PATH_SEGMENT@161..165
              0: IDENT@161..165 "with" [] []
        3: R_DOUBLE_CURLY@165..167 "}}" [] []
  4: EOF@167..168 "" [Newline("\n")] []

```
